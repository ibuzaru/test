<!DOCTYPE html>
<html>
    <head><title>予約</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    {% load static %}
        <style> 
            @font-face {
                font-family: 'keifont'; /*fontの名前を定義*/
                src: url("{% static 'ao/fonts/keifont.ttf' %}") format('truetype');
            }

            a{text-decoration: none;}

            body {
                font-family: Arial, sans-serif;
                text-align: center;
                margin: 0;
                padding: 0;
            }
            .calendar-container{
                font-size: 30px;
            }
            .calendar {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                gap: 5px;
                max-width: 400px;
                margin: 20px auto;
            }
            .calendar-header {
                display: flex;
                justify-content: space-between;
                align-items: stretch;
            }
            .current-month{
                font-size: 30px;
                color: black;
            }
            .day, .weekday {
                padding: 10px;
                text-align: center;
                border: 2px solid #ddd;
            }
            .weekday {
                background-color: #f0f0f0;
                font-weight: bold;
            }
            .day {
                background-color: #f4f4f4;
                cursor: pointer;
            }
            .day:hover {
                background-color: #e0e0e0;
            }
            .day.disabled {
                background-color: #ccc;
                cursor: not-allowed;
            }
            .selected {
                background-color: #4caf50;
                color: white;
            }
            .word1{
                font-size: 50px;
                font-family: 'keifont',sans-serif;/*keifontが使えない場合はsans-serifにフォールバック*/
            }

            .word2{
                    font-size: 30px;
                    color: white; /* テキストの色を白に設定 */
            }
            .word2:hover{
                    text-decoration:  underline;
            }
            
            
            .word3{
                    font-size: 30px;
                    color: white; /* テキストの色を白に設定 */
                        
            }
            .word3:hover{
                     text-decoration:  underline;
            }

            .word4{
                    font-size: 30px;
                    color: white; /* テキストの色を白に設定 */
                        
            }
            .word4:hover{
                     text-decoration:  underline;
            }

            .rectatop {
            width: 100%; /* 横幅 */
            height: 70px; /* 縦幅 */
            background-color: #800000; /* 背景色をワインレッドに設定 */
            display: flex;  /* 子要素を中央配置するためにflexboxを使用 */
            align-items: center; /* 縦方向の中央揃え */
            justify-content: space-evenly; /* 子要素を均等に配置 */

            }

        </style>
    </head>
    <body>
        <div class="word1">予約</div>
        <div class="rectatop">
            <a href="{% url 'home' %}"><div class="word2">ホーム</div></a>  
            <a href="{% url 'resa' %}"><div class="word3">予約</div></a>  
            <a href="{% url 'contact' %}"><div class="word4">お問い合わせ</div></a>     
            
        </div>
        <h1>予約カレンダー</h1>
        <div class="calendar-container">
            <div class="calendar-header">
                <button id="prev-month">&lt;</button>
                <div class="current-month" id="current-month"></div>
                <button id="next-month">&gt;</button>
            </div>
            <div class="calendar" id="calendar"></div>
        </div>
    
        <script>
            const calendar = document.getElementById('calendar');
            const currentMonth = document.getElementById('current-month');
            const prevMonthButton = document.getElementById('prev-month');
            const nextMonthButton = document.getElementById('next-month');
    
            let date = new Date();
    
            // 曜日リスト
            const weekdays = ['日', '月', '火', '水', '木', '金', '土'];
    
            function renderCalendar() {
                calendar.innerHTML = '';
    
                const year = date.getFullYear();
                const month = date.getMonth();
    
                // Display month and year
                currentMonth.textContent = `${date.toLocaleString('default', { month: 'long' })} ${year}`;
    
                // Add weekday headers
                weekdays.forEach(day => {
                    const weekdayElement = document.createElement('div');
                    weekdayElement.textContent = day;
                    weekdayElement.classList.add('weekday');
                    calendar.appendChild(weekdayElement);
                });
    
                // First day of the month
                const firstDay = new Date(year, month, 1).getDay();
    
                // Number of days in the month
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                
                // 各月の曜日の日付調整
                for (let i = 0; i < firstDay; i++) {
                    const emptyCell = document.createElement('div');
                    calendar.appendChild(emptyCell);
                }

                // Add days of the month
                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.textContent = day;
                    dayElement.classList.add('day');
    
                    // Example: Disable past days
                    const today = new Date();
                    const currentDate = new Date(year, month, day);
                    if (currentDate < today.setHours(0, 0, 0, 0)) {
                        dayElement.classList.add('disabled');
                    } 
                    else {
                        dayElement.addEventListener('click', () => {
                            document.querySelectorAll('.day.selected').forEach(el => el.classList.remove('selected'));
                            dayElement.classList.add('selected');
                            alert(`You selected ${currentDate.toDateString()}`);
                        });
                    }
    
                    calendar.appendChild(dayElement);
                }
            }
    
            prevMonthButton.addEventListener('click', () => {
                date.setMonth(date.getMonth() - 1);
                renderCalendar();
            });
    
            nextMonthButton.addEventListener('click', () => {
                date.setMonth(date.getMonth() + 1);
                renderCalendar();
            });
    
            renderCalendar();
        </script>
    </body> 


</html>
    
